<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>YAOTECATL - Input Gráfico</title>
 <link rel="icon" href="http://www-01.sil.org/Mexico/nahuatl/sup/23-Tlaloc.gif">
 <link rel="stylesheet" href="shepherd-theme-arrows.css" />
 <link href="introjs.css" rel="stylesheet">
  <script src="blockly_compressed.js"></script>
  <script src="blocks_compressed.js"></script>
  <script src="javascript_compressed.js"></script>
  <script src="customblocks.js"></script>
  <script src="FileSaver.js"></script> 
  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
  </style>
</head>
<body>

<h1 align="center" > YAOTECATL </h1>
<h1 data-step="1" data-intro="This is a tooltip!">Basic Usage</h1>
  
  <a target="_blank"  href="../yaotecatl.html">Learn Yaotecatl</a>
  <br>
  <a href=""> See Demo Again</a>
  <p>
    <button onclick="showCode()">Show Yaotecatl Code</button>
    <button onclick="downloadCode()">Download Yaotecatl Code</button>
    <button onclick="saveCode()">Export Blocks</button>
    <button onclick="()">Import Blocks</button>
  </p>

  <a href="javascript:void(0);" onclick="javascript:introJs().start();">Show me how</a>

 <div>

 </div>
  <script>

    var workspace = Blockly.inject('blocklyDiv',
        {media: 'media/',
         toolbox: document.getElementById('toolbox')});
    Blockly.Xml.domToWorkspace(document.getElementById('startBlocks'),
                               workspace);

    function showCode() {
      // Generate JavaScript code and display it.
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      var code = Blockly.JavaScript.workspaceToCode(workspace);
      code = code.replace(/[¡]/g,'(');
        code = code.replace(/[!]/g,')');
      code = 'program id { \n\n' + code + '\n}'; 
      document.getElementById("textCode").value = code;
      //alert(code);
    }

    function downloadCode() {
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      var code = Blockly.JavaScript.workspaceToCode(workspace);
      code = code.replace(/[¡]/g,'(');
        code = code.replace(/[!]/g,')');
      code = 'program id { \n\n' + code + '\n}'; 
      var fileName = 'yaoTest';
      var blob = new Blob([code], {type: "text/plain;charset=utf-8"});
      saveAs(blob, fileName +".yaotecatl");
    }

    function saveCode(){
      var output = document.getElementById('importExport');
      var xml = Blockly.Xml.workspaceToDom(workspace);
      output.value = Blockly.Xml.domToPrettyText(xml);
      output.focus();
      output.select();
    }
  </script>
 <script type="text/javascript" src="intro.js"></script>
</body>
</html>
